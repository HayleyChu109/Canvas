<!DOCTYPE html>
<html class="no-js">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Canvas</title>
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
  <!-- Pickr CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/nano.min.css" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
    integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>
  <section id="first-container">
    <div>
      <!-- Button section -->
      <div class="button-list grid">
        <!-- The drawing line button -->
        <div class="item">
          <img src="logo/line.png" alt="line" id="drawing-line">
        </div>
        <div class="item">
          <img src="logo/diagonal-line.png" alt="straight line">
        </div>
        <!-- The drawing curve button -->
        <div class="item">
          <img src="logo/curved-line.png" alt="curve" id="drawing-curve">
        </div>
        <!-- The drawing circle button -->
        <div class="item">
          <img src="logo/circle.png" alt="circle" id="drawing-circle">
        </div>
        <!-- The drawing rectangle button -->
        <div class="item">
          <img src="logo/square.png" alt="square" id="drawing-rectangle">
        </div>
        <!-- The drawing bezier curve button -->
        <div class="item">
          <img src="logo/bezier.png" alt="bezier curve" id="drawing-beziercurve">
        </div>
        <!-- The drawing triangle button -->
        <div class="item">
          <img src="logo/triangle.png" alt="triangle" id="drawing-triangle">
        </div>
        <!-- Sherman: Drawing Polygon -->
        <div class="item">
          <img src="logo/polygon.png" alt="polygon" id="drawing-polygon">
        </div>
        <!-- The drawing text button -->
        <div class="item">
          <img src="logo/text.png" alt="text" id="drawing-text">
        </div>
        <div class="item">
          <img src="logo/fillcolor.png" alt="fill color">
        </div>
        <!-- The drawing filter button -->
        <div class="item">
          <img src="logo/filter.png" alt="filter" id="drawing-filter">
        </div>
        <!-- Sherman: The eraser circle button -->
        <div class="item">
          <img src="logo/eraser.png" alt="eraser" id="eraser-cir">
        </div>
        <!-- Sherman: Undo button -->
        <div class="item">
          <img src="logo/undo.png" alt="undo" id="undo">
        </div>
        <!-- Sherman: Redo button -->
        <div class="item">
          <img src="logo/redo.png" alt="redo" id="redo">
        </div>
        <!-- Sherman: The empty button -->
        <div class="item">
          <img src="logo/empty.png" alt="empty" id="empty">
        </div>
        <!-- Sherman: Save button -->
        <div class="item">
          <img src="logo/save.png" alt="save" id="save">
        </div>
      </div>

      <div class="slidecontainer">
        <label for="blur">Blur</label><br>
        <input type="range" min="0" max="10" value="0" id="blur">
      </div>
      <div class="slidecontainer">
        <label for="brightness">Brightness</label><br>
        <input type="range" min="0" max="200" value="100" id="brightness">
      </div>
      <div class="slidecontainer">
        <label for="contrast">Contrast</label><br>
        <input type="range" min="0" max="100" value="0" id="contrast">
      </div>
      <div class="slidecontainer">
        <label for="grayscale">Grayscale</label><br>
        <input type="range" min="0" max="100" value="0" id="grayscale">
      </div>

      <div class="buttons">
        <!-- Sherman: Undo button -->
        <!-- <span class="btn btn-success fa fa-paint-brush" id="undo">Undo</span> -->
        <!-- Sherman: Redo button -->
        <!-- <span class="btn btn-success fa fa-paint-brush" id="redo">Redo</span> -->
        <!-- Sherman: Filter-blur -->
        <!-- <span class="btn btn-light fa fa-paint-brush" id="effect-blur">(BUG) Effect: Blur</span><br> -->
        <!-- Sherman: Filter-drop-shadow -->
        <!-- <span class="btn btn-light fa fa-paint-brush" id="effect-drop-shadow">(BUG) Effect: Drop Shadow</span><br> -->
        <!-- Sherman: Paint Bucket -->
        <!-- <span class="btn btn-dark fa fap-paint-brush" id="paintbucket">(BUG) Paint Bucket</span><br> -->
        <!-- Sherman: pickr palette -->
        <div>Stroke color</div>
        <span id="pickr-palette-stroke"></span>
        <div>Fill color</div>
        <span id="pickr-palette-fill"></span>
      </div>
    </div>

    <!-- Canvas section -->
    <div id="canvas-container">
      <canvas id="canvas-real" class="canvas" width="1280px" height="720px"></canvas>
      <canvas id="canvas-draft" class="canvas" width="1280px" height="720px"></canvas>
      <input type="text" id="inputText" name="inputBox" style="display: none"></input>
    </div>

  </section>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
    crossorigin="anonymous"></script>
  <!-- Pickr Palette CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>

  <!-- The drawing functionality  -->
  <script src="./javascript/canvas-common.js" type="text/javascript"></script>
  <!-- The drawing line functionality  -->
  <script src="./javascript/drawing-line.js" type="text/javascript"></script>
  <!-- The drawing curve functionality  -->
  <script src="./javascript/drawing-curve.js" type="text/javascript"></script>
  <!-- The drawing beizer curve functionality  -->
  <script src="./javascript/drawing-beziercurve.js" type="text/javascript"></script>
  <!-- The drawing rectangle functionality  -->
  <script src="./javascript/drawing-rectangle.js" type="text/javascript"></script>
  <!-- The drawing circle functionality  -->
  <script src="./javascript/drawing-circle.js" type="text/javascript"></script>
  <!-- The drawing triangle functionality  -->
  <script src="./javascript/drawing-triangle.js" type="text/javascript"></script>
  <!-- The drawing text functionality  -->
  <script src="./javascript/drawing-text.js" type="text/javascript"></script>
  <!-- The drawing filter functionality  -->
  <script src="./javascript/drawing-filter.js" type="text/javascript"></script>
  <!-- Sherman: Palette functionality -->
  <script src="javascript/palette.js" type="text/javascript"></script>
  <!-- Sherman: The eraser.cir functionality -->
  <script src="./javascript/eraser.js" type="text/javascript"></script>
  <!-- Sherman: The empty functionality -->
  <script src="javascript/empty.js" type="text/javascript"></script>
  <!-- Sherman: The undo functionality -->
  <script src="javascript/undo-redo.js" type="text/javascript"></script>
  <!-- Sherman: The save functionality -->
  <script src="javascript/save.js" type="text/javascript"></script>
  <!-- Sherman: The Effects functionality -->
  <script src="javascript/effects.js" type="text/javascript"></script>
  <!-- Sherman: The Paint Bucket functionality-->
  <script src="javascript/paintbucket.js" type="text/javascript"></script>
  <!-- Sherman: The Polygon functionality -->
  <script src="javascript/drawing-polygon.js" type="text/javascript"></script>

  <script type="text/javascript">
    $(() => {
      currentFunction = new DrawingLine(contextReal)
      $("#drawing-line").click(() => {
        currentFunction = new DrawingLine(contextReal);
      });
      $("#drawing-curve").click(() => {
        currentFunction = new DrawingCurve(contextReal, contextDraft);
      });
      $("#drawing-beziercurve").click(() => {
        currentFunction = new DrawingBezierCurve(contextReal, contextDraft);
      });
      $("#drawing-rectangle").click(() => {
        currentFunction = new DrawingRectangle(contextReal, contextDraft);
      });
      $("#drawing-circle").click(() => {
        currentFunction = new DrawingCircle(contextReal, contextDraft);
      });
      $("#drawing-triangle").click(() => {
        currentFunction = new DrawingTriangle(contextReal, contextDraft);
      });
      $("#drawing-text").click(() => {
        currentFunction = new DrawingText(contextReal, contextDraft);
      });
      $("#drawing-filter").click(() => {
        filter();
      });
      //Sherman's eraser
      $("#eraser-cir").click(() => {
        currentFunction = new Eraser(contextReal);
      });
      //Sherman's empty
      $("#empty").click(() => {
        confirmEmpty();
      })
      //Sherman's undo
      $("#undo").click(() => {
        undo();
      });
      //Sherman's redo
      $("#redo").click(() => {
        redo();
      })
      //Sherman's save
      $("#save").click(() => {
        save();
      })
      //Sherman's Effect-Blur
      $("#effect-blur").click(() => {
        effectBlur();
      })
      //Sherman's Effect-Drop-Shadow
      $("#effect-drop-shadow").click(() => {
        effectDropShadow();
      })
      //Sherman's Paint Bucket
      $("#paintbucket").click(() => {
        currentFunction = new PaintBucket(contextReal);
      })
      //Sherman's Polygon
      $("#drawing-polygon").click(() => {
        currentFunction = new DrawingPolygon(contextReal, contextDraft);
      })
    })
  </script>
</body>

</html>